# v0.1.7 リリース準備作業

**仕様書 ID:** 84314ae7-7c50-4811-978a-23224a72ed04
**フェーズ:** implementation
**作成日時:** 2025/12/04 12:00:00
**更新日時:** 2025/12/04 14:31:00

---

## 1. 背景と目的

### 背景

現在の develop ブランチの内容を v0.1.7 とリリースします。バージョン番号に絡む部分の修正箇所を特定し修正。

### 目的

develop ブランチの現在の内容を v0.1.7 として正式リリースする。バージョン番号を含む全てのファイルを更新し、品質チェックを通過させた上で、GitHub Release を作成する。

---

## 2. 対象ユーザー

cc-craft-kit の開発者およびメンテナー

---

## 3. 受け入れ基準

### 必須要件

- [ ] package.json のバージョンを 0.1.7 に更新
- [ ] CHANGELOG.md に [0.1.7] セクションを追加（v0.1.6 以降の変更内容を記載）
- [ ] docs/ARCHITECTURE.md のバージョンを 0.1.7 に更新

### 機能要件

- [ ] npm run sync:dogfood で .cc-craft-kit/ へ同期完了
- [ ] 全ての品質チェック（typecheck, lint, test, check:sync）が成功
- [ ] npm audit でセキュリティ警告なし

### 非機能要件

- [ ] GitHub Actions の CI パイプラインが全て成功
- [ ] develop → main への PR が作成され、マージ可能な状態

---

## 4. 制約条件

- Semantic Versioning (SemVer) に準拠（MAJOR.MINOR.PATCH）
- GitHub Flow + develop ブランチモデルに準拠
- リリースタグは `v0.1.7` 形式で作成
- install.sh はバージョンを動的取得するため修正不要

---

## 5. 依存関係

### 修正対象ファイル

| ファイル | 現在値 | 新値 | 修正箇所 |
|---------|-------|------|---------|
| package.json | 0.1.6 | 0.1.7 | line 3 |
| CHANGELOG.md | [0.1.6] | [0.1.7] セクション追加 | 先頭 |
| docs/ARCHITECTURE.md | 0.1.4 | 0.1.7 | line 362 |

### 関連ワークフロー

- `.github/workflows/release.yml` - タグ push 時に自動実行
- `.github/workflows/ci.yml` - PR/push 時に自動実行

---

## 6. 参考情報

- 過去のリリース仕様書: `.cc-craft-kit/specs/e88d9153-c062-4fef-922d-2f952b40ee90.md` (v0.1.6)
- リリースワークフロー: `.github/workflows/release.yml`
- CHANGELOG フォーマット: `CHANGELOG.md` の既存セクションを参照

---

## 7. 設計詳細

### 7.1 アーキテクチャ設計

#### 全体構成

リリース作業は、以下の3つのファイルの更新と品質チェックで構成されます。

```text
リリース対象ファイル
├── package.json           # バージョン番号（version フィールド）
├── CHANGELOG.md           # 変更履歴（新規セクション追加）
└── docs/ARCHITECTURE.md   # バージョン表記（最終行）
```

#### 設計方針

1. **バージョン更新順序**: package.json → CHANGELOG.md → docs/ARCHITECTURE.md
2. **CHANGELOG 内容**: v0.1.6 以降の git log から変更内容を抽出
3. **品質チェック**: 全てのチェックを通過してからコミット

### 7.2 実装方針

#### 修正対象ファイル

| ファイル | 変更内容 |
|---------|---------|
| package.json | `"version": "0.1.6"` → `"version": "0.1.7"` |
| CHANGELOG.md | `## [0.1.7] - YYYY-MM-DD` セクションを追加 |
| docs/ARCHITECTURE.md | `**バージョン:** 0.1.4` → `**バージョン:** 0.1.7` |

#### v0.1.7 変更内容（CHANGELOG 用）

v0.1.6 以降の変更内容（git log より抽出）:

**Added**
- なし

**Changed**
- フェーズおよび Issue ステータスの見直し

**Fixed**
- インストーラーアーカイブエラーの修正

### 7.3 機能マッピング

| 機能 | 現在の実装 | 新しい実装 | 実装場所 |
|-----|----------|----------|---------|
| バージョン番号 | 0.1.6 | 0.1.7 | package.json:3 |
| 変更履歴 | [0.1.6] まで | [0.1.7] 追加 | CHANGELOG.md:8 |
| ドキュメント版 | 0.1.4 | 0.1.7 | docs/ARCHITECTURE.md:362 |

### 7.4 テスト戦略

| テスト対象 | テスト内容 | 検証方法 |
|----------|----------|---------|
| 型チェック | TypeScript 型エラーなし | `npm run typecheck` |
| リント | ESLint 警告なし | `npm run lint` |
| テスト | 全テスト成功 | `npm test` |
| 同期チェック | dogfood 同期済み | `npm run check:sync` |
| セキュリティ | 脆弱性なし | `npm audit` |

### 7.5 移行計画

#### Phase 1: バージョン更新

1. package.json のバージョン更新
2. CHANGELOG.md への変更内容追記
3. docs/ARCHITECTURE.md のバージョン更新

#### Phase 2: 品質チェック

1. npm run sync:dogfood 実行
2. npm run typecheck 実行
3. npm run lint 実行
4. npm test 実行
5. npm run check:sync 実行
6. npm audit 実行

---

## 8. 実装タスクリスト

### Phase 1: バージョン更新

- [x] package.json のバージョンを 0.1.7 に更新 (#637)
- [x] CHANGELOG.md に [0.1.7] セクションを追加 (#638)
- [x] docs/ARCHITECTURE.md のバージョンを 0.1.7 に更新 (#639)

### Phase 2: 品質チェック

- [ ] npm run sync:dogfood で .cc-craft-kit/ へ同期 (#640)
- [ ] npm run typecheck で型チェック実行 (#641)
- [ ] npm run lint で ESLint チェック実行 (#642)
- [ ] npm test でテスト実行 (#643)
- [ ] npm run check:sync で同期チェック実行 (#644)
- [ ] npm audit でセキュリティチェック実行 (#645)
