# /cft:spec-phase <id> implementation において、実装が自動で実行されない

**仕様書 ID:** f524a49a-52d4-4596-aca2-0322a6b882de
**フェーズ:** design
**作成日時:** 2025/11/27 00:00:00
**更新日時:** 2025/11/27 10:30:00

---

## 1. 背景と目的

### 背景

`/cft:spec-phase <id> implementation` コマンドで implementation フェーズに移行した際、期待される自動実行処理（タスクリスト表示、型チェック、リント実行など）が実行されない問題が発生している。

現在の実装状況:
- `src/slash-commands/spec-phase.md` の implementation フェーズ定義は 4 行のみで、具体的なツール実行方法が記述されていない
- TypeScript 側（`phase-automation.ts`）はタスクリストの表示のみを実行
- design フェーズでは 168 行分の詳細指示があり、自動実行が正常に動作している

### 目的

implementation フェーズに移行した際に、以下の処理が自動的に実行されるようにする:
1. タスクリストの読み込みと TodoWrite での進捗管理開始
2. 型チェック・リント実行（typescript-eslint スキル）
3. チェック結果の表示とガイダンス

---

## 2. 対象ユーザー

cc-craft-kit を使用して仕様駆動開発（SDD）を行う開発者

---

## 3. 受け入れ基準

### 必須要件

- [ ] `/cft:spec-phase <id> implementation` 実行時に、タスクリストが TodoWrite ツールで自動表示される
- [ ] 型チェック・リント実行が自動的に行われ、結果が表示される

### 機能要件

- [ ] 仕様書の「## 8. 実装タスクリスト」セクションが Read ツールで読み込まれる
- [ ] TodoWrite ツールでタスクリストの進捗管理が開始される
- [ ] Skill ツールで `typescript-eslint` スキルが実行される
- [ ] エラーがある場合は警告メッセージが表示される
- [ ] エラーがない場合は成功メッセージと次のステップガイダンスが表示される

### 非機能要件

- [ ] CLAUDE.md のプロンプトファースト原則に従い、プロンプト定義（.md）で実装する
- [ ] design フェーズと同等の詳細さでプロンプト定義を記述する

---

## 4. 制約条件

- プロンプトファースト原則: Claude Code のツールで実現可能な処理はプロンプト（.md）で実装する
- 既存の TypeScript 実装（`phase-automation.ts`）との整合性を保つ
- 他のフェーズ（design, testing, completed）の動作に影響を与えない

---

## 5. 依存関係

- `src/slash-commands/spec-phase.md` - メインのスラッシュコマンド定義
- `src/core/workflow/phase-automation.ts` - TypeScript 側のフェーズ自動処理
- `.cc-craft-kit/slash-commands/spec-phase.md` - 同期先ファイル
- `typescript-eslint` スキル - 型チェック・リント実行

---

## 6. 参考情報

- design フェーズの実装パターン（spec-phase.md 行 187-333）
- CLAUDE.md のプロンプトファースト原則
- GitHub Issue: #394
