# すべてのマークダウンファイルを textlint でチェックしエラーをゼロにする

**仕様書 ID:** 94091ea2-7c70-4097-9316-81d835739d7c
**フェーズ:** completed
**作成日時:** 2025/11/17 11:39:38
**更新日時:** 2025/11/17 13:06:52

---

## 1. 背景と目的

### 背景

現在、プロジェクト内の Markdown ファイルに textlint エラーが 998 件（エラー 510 件、警告 488 件）存在している。このままでは文書品質が低下し、可読性や一貫性に問題が生じる。

### 目的

- すべての Markdown ファイルの textlint エラーをゼロにする
- 自動修正可能な 267 件のエラーを修正する
- 手動修正が必要なエラーを段階的に解消する
- 文書品質の向上と一貫性の確保

---

## 2. 対象ユーザー

- cc-craft-kit プロジェクトの開発者
- ドキュメントを読むすべてのユーザー

---

## 3. 受け入れ基準

### 必須要件

- [ ] `npm run textlint` の実行結果が 0 errors, 0 warnings になる
- [ ] すべての Markdown ファイルが textlint ルールに準拠する
- [ ] 自動修正による意味の変更がないことを確認する

### 機能要件

- [ ] 自動修正可能なエラー（267 件）を `npm run textlint:fix` で修正する
- [ ] 手動修正が必要なエラーを特定し、ファイルごとに修正する
- [ ] 主なエラータイプを分類し、優先順位をつけて対応する

### 非機能要件

- [ ] 修正によりドキュメントの可読性が向上する
- [ ] 修正後も元の意味が保たれる
- [ ] 今後のエラー発生を防ぐためのガイドラインを策定する

---

## 4. 制約条件

- コードブロック内のテキストは修正対象外とする
- 外部ライブラリやサンプルコードの引用部分は修正対象外とする
- AI 的な表現の警告は、技術文書として適切であれば許容する

---

## 5. 依存関係

- textlint の設定ファイル（`.textlintrc`）
- textlint プラグイン（`@textlint-ja/ai-writing`, `ja-technical-writing` など）

---

## 6. 参考情報

- 現在のエラー統計: 992 件（エラー 504 件、警告 488 件、自動修正可能 261 件）
- 主なエラータイプ:
  - 文末の句点漏れ（`ja-no-mixed-period`）- error
  - 全角/半角間のスペース（`ja-space-between-half-and-full-width`）- error - 自動修正可能
  - AI 的な表現（`@textlint-ja/ai-writing/*`）- warning
  - 助詞の重複（`no-doubled-joshi`）- error
  - 疑問符/感嘆符の使用（`no-exclamation-question-mark`）- error
  - 漢字連続（`max-kanji-continuous-len`）- error

---

## 7. 設計（Design フェーズ）

### 修正戦略

#### フェーズ 1: 自動修正（261 件）

1. `npm run textlint:fix` で自動修正可能なエラーを一括修正
2. 主な対象:
   - 全角/半角間のスペース挿入
   - その他の自動修正可能な構文エラー

#### フェーズ 2: 手動修正（error のみ、約 240 件）

優先順位付けして段階的に修正:

1. **最優先**: 文末の句点漏れ (`ja-no-mixed-period`)
   - 影響範囲: 広範囲
   - 修正方法: 各文末に「。」を追加

2. **高**: 疑問符/感嘆符の使用 (`no-exclamation-question-mark`)
   - 影響範囲: 少数
   - 修正方法:「？」「！」を削除または文章を修正

3. **中**: 漢字連続 (`max-kanji-continuous-len`)
   - 影響範囲: 少数
   - 修正方法: ひらがなやスペースを挿入

4. **中**: 助詞の重複 (`no-doubled-joshi`)
   - 影響範囲: 中程度
   - 修正方法: 文を分割または助詞を変更

#### フェーズ 3: 警告の対応判断（488 件）

警告は技術文書として適切であれば許容するが、以下を検討:

- コロン継続パターン:「次のようにします。」などに変更可能か検討
- リストの強調パターン: 必要に応じて保持
- AI 的な表現: 技術文書として適切であれば許容

### 作業手順

1. Git でブランチ作成（`fix/textlint-errors`）
2. フェーズ 1 の自動修正を実行してコミット
3. フェーズ 2 のエラーをファイル別に手動修正
   - README.md
   - CLAUDE.md
   - docs/*.md
   - src/slash-commands/*.md
   - .cc-craft-kit/ 配下は除外（自動生成のため）
4. フェーズ 3 の警告を必要に応じて対応
5. 最終確認して PR 作成

### 除外対象

- `.cc-craft-kit/` 配下のファイル（自動生成されるため、`src/` 側を修正）
- コードブロック内のテキスト
- 外部ライブラリのサンプルコード

---

## 8. タスク分解（Tasks フェーズ）

### タスク一覧

#### タスク 1: 環境準備

- [ ] Git ブランチ作成（`fix/textlint-errors`）
- [ ] 現状のエラー数をベースラインとして記録
- 工数: 5 分

#### タスク 2: フェーズ 1 - 自動修正実行

- [ ] `npm run textlint:fix` を実行
- [ ] 修正内容を確認（diff チェック）
- [ ] 意味が変わっていないことを確認
- [ ] コミット: `fix: textlint 自動修正を適用`
- 工数: 15 分

#### タスク 3: フェーズ 2-1 - README.md の手動修正

- [ ] 文末の句点漏れを修正
- [ ] その他の error を修正
- [ ] textlint エラーが 0 になることを確認
- [ ] コミット: `fix: README.md の textlint エラーを修正`
- 工数: 30 分

#### タスク 4: フェーズ 2-2 - CLAUDE.md の手動修正

- [ ] 文末の句点漏れを修正
- [ ] 全角/半角スペースを修正
- [ ] 疑問符を削除
- [ ] 助詞の重複を修正
- [ ] 漢字連続を修正
- [ ] textlint エラーが 0 になることを確認
- [ ] コミット: `fix: CLAUDE.md の textlint エラーを修正`
- 工数: 1 時間

#### タスク 5: フェーズ 2-3 - docs/*.md の手動修正

- [ ] docs/QUICK_START.md を修正
- [ ] docs/MIGRATION_FROM_MCP.md を修正
- [ ] docs/GITHUB_PROJECTS.md を修正
- [ ] docs/archive/*.md を修正（必要に応じて）
- [ ] textlint エラーが 0 になることを確認
- [ ] コミット: `fix: docs/ の textlint エラーを修正`
- 工数: 1.5 時間

#### タスク 6: フェーズ 2-4 - src/slash-commands/*.md の手動修正

- [ ] すべてのスラッシュコマンド定義ファイルを修正
- [ ] 文末の句点漏れを統一的に修正
- [ ] コロン継続パターンを修正
- [ ] textlint エラーが 0 になることを確認
- [ ] コミット: `fix: src/slash-commands/ の textlint エラーを修正`
- 工数: 2 時間

#### タスク 7: フェーズ 3 - 警告の対応判断

- [ ] 残っている warning を確認
- [ ] 技術文書として不適切な表現を修正
- [ ] 適切な警告は許容（textlint 設定で除外も検討）
- [ ] コミット: `fix: textlint 警告の必要な部分を修正`
- 工数: 1 時間

#### タスク 8: 最終確認と同期

- [ ] `npm run textlint` で全体チェック（0 errors を目指す）
- [ ] `npm run sync:dogfood` で .cc-craft-kit/ に同期
- [ ] 再度 textlint チェック
- [ ] コミット: `chore: ドッグフーディング環境に同期`
- 工数: 15 分

#### タスク 9: PR 作成とレビュー

- [ ] GitHub に push
- [ ] PR 作成（タイトル: `fix: すべての Markdown ファイルの textlint エラーを修正`）
- [ ] PR 説明に修正内容のサマリーを記載
- [ ] セルフレビュー実施
- 工数: 30 分

### 総工数見積もり

- 合計: 約 7 時間 30 分
- 内訳:
  - 自動修正: 15 分
  - 手動修正: 5 時間
  - 警告対応: 1 時間
  - 環境準備・最終確認: 50 分
  - PR 作成: 30 分

### 依存関係

- タスク 1 → タスク 2（ブランチ作成後に自動修正）
- タスク 2 → タスク 3-6（自動修正後に手動修正）
- タスク 3-6 → タスク 7（error 修正後に warning 対応）
- タスク 7 → タスク 8（すべて修正後に同期）
- タスク 8 → タスク 9（同期後に PR 作成）
