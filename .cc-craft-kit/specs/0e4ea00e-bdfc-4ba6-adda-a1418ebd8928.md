# /cft:status コマンドの見直し

**仕様書 ID:** 0e4ea00e-bdfc-4ba6-adda-a1418ebd8928
**フェーズ:** requirements
**作成日時:** 2025-11-25 00:00
**更新日時:** 2025-11-25 00:00

---

## 1. 背景と目的

### 背景

現在、多くの部分がスクリプトで実現されていて、なかなか仕様通りに動作していない。プロンプト指示だと簡単にできることができていない。たいていの処理は、プロンプト指示の方が上手くいく。カスタムスラッシュコマンド→スキル→サブエージェントの構成が上手く実現できていない。改めて、Claude Code のカスタムスラッシュコマンド、スキル、サブエージェントの各機能の仕様についてよく考えて、スクリプトを使わずに仕様を実現できるか再設計して欲しい。スクリプトは最終手段です。ただし、スキル内のスクリプトは OK です。

### 目的

/cft:status コマンドをプロンプトベースで再設計し、スクリプトへの依存を最小限にすることで、保守性と拡張性を向上させる。

---

## 2. 対象ユーザー

- cc-craft-kit を利用する開発者
- Claude Code でプロジェクト状況を確認したいユーザー

---

## 3. 受け入れ基準

### 必須要件

- [ ] /cft:status コマンドがプロンプトベースで動作すること
- [ ] 現在の機能（仕様書一覧、フェーズ状況、GitHub 連携状況）が維持されること
- [ ] スクリプト呼び出しを最小限に抑えること

### 機能要件

- [ ] プロジェクト概要の表示
- [ ] 仕様書一覧とフェーズ状況の表示
- [ ] GitHub Issue/PR 連携状況の表示
- [ ] 次のアクション提案の表示

### 非機能要件

- [ ] レスポンス時間が現行と同等以下であること
- [ ] エラー時に適切なメッセージを表示すること

---

## 4. 制約条件

- Claude Code のカスタムスラッシュコマンド、スキル、サブエージェントの仕様に準拠
- データベース操作が必要な場合は最小限のスクリプトを許容
- スキル内でのスクリプト使用は許容

---

## 5. 依存関係

- .cc-craft-kit/specs/*.md（仕様書ファイル）
- .cc-craft-kit/cc-craft-kit.db（データベース）
- GitHub API（Issue/PR 情報取得）

---

## 6. 参考情報

- 現在の実装: src/slash-commands/status.md
- 現在のスクリプト: src/commands/status/index.ts
- CLAUDE.md のプロンプトファースト原則
