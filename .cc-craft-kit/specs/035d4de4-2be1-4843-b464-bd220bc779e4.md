# 構成見直し

**仕様書 ID:** 035d4de4-2be1-4843-b464-bd220bc779e4
**フェーズ:** requirements
**作成日時:** 2025/12/06 18:30:00
**更新日時:** 2025/12/06 18:30:00

---

## 1. 背景と目的

### 背景

kiro や cc-sdd  と同様に、カスタムスラッシュコマンド、スキル、サブエージェントのみで構成させたい

### 目的

cc-craft-kit の構成を見直し、TypeScript を完全に排除して、カスタムスラッシュコマンド、スキル、サブエージェントのみで動作するシンプルなアーキテクチャに再構成する。

---

## 2. 対象ユーザー

cc-craft-kit を使用する開発者、および Claude Code で仕様駆動開発（SDD）を実践するユーザー

---

## 3. 受け入れ基準

### 必須要件

- [ ] TypeScript コード（`src/`、`.cc-craft-kit/commands/`、`core/`、`integrations/` 等）を完全に削除
- [ ] スラッシュコマンドを 24 個から 10 個に統合
- [ ] 仕様書フォーマットを YAML フロントマター形式に変更（Single Source of Truth）
- [ ] GitHub 操作を `gh` CLI で代替

### 機能要件

- [ ] `/cft:spec` 統合コマンド（create/list/get/phase/delete）の実装
- [ ] `/cft:github` 統合コマンド（init/issue/sync/cleanup）の実装
- [ ] `/cft:review` 統合コマンド（code-review/lint-check/refactor）の実装
- [ ] `/cft:test` 統合コマンド（test-generate/schema-validate）の実装
- [ ] `/cft:session` 統合コマンド（start/end）の実装
- [ ] 既存仕様書の YAML フロントマター形式への移行スクリプト

### 非機能要件

- [ ] `gh` CLI がインストールされていない場合のエラーガイダンス
- [ ] 手動トリガー + 次のステップガイダンス方式での運用

---

## 4. 制約条件

- `gh` CLI（GitHub CLI）が必須
- GITHUB_TOKEN 環境変数の設定が必須
- 現在の EventBus（イベント駆動）、Chokidar（ファイル監視）による自動化は廃止
- 自動処理は手動トリガー + ガイダンス方式に移行

---

## 5. 依存関係

### 削除対象

- `src/` 全体（約 5,000+ 行の TypeScript）
- `.cc-craft-kit/commands/`、`core/`、`integrations/`、`hooks/`、`plugins/`、`scripts/`、`meta/`
- `package.json` の TypeScript 関連依存

### 維持対象

- `.claude/commands/cft/` - スラッシュコマンド（統合後 10 個）
- `.claude/skills/` - スキル（整理後 4 個）
- `.claude/agents/` - サブエージェント（5 個維持）
- `.cc-craft-kit/specs/` - 仕様書ファイル
- `.cc-craft-kit/config.json` - プロジェクト設定

---

## 6. 参考情報

- [計画ファイル](/home/autum/.claude/plans/cosmic-gliding-moth.md) - 詳細な実装計画
- kiro - シンプルなスペックファイル + プロンプトベースのワークフロー
- cc-sdd - カスタムスラッシュコマンドのみで構成
