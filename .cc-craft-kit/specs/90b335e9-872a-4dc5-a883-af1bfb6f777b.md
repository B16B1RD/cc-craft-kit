# .env.example 中の MCP_PORT に関するサンプルは不要では？

**仕様書 ID:** 90b335e9-872a-4dc5-a883-af1bfb6f777b
**フェーズ:** design
**作成日時:** 2025/12/03 12:00:00
**更新日時:** 2025/12/03 16:28:53

---

## 1. 背景と目的

### 背景

cc-craft-kit は「MCP サーバー不要」をアーキテクチャの特徴として掲げているが、`.env.example` と `.env` に `MCP_PORT` の設定サンプルが残っている。コードベース解析の結果、`MCP_PORT` 環境変数を実際に使用している箇所は存在せず、MCP サーバーとして起動する機能も実装されていない。

また、`scripts/create-mcp-error-spec.ts` という MCP 起動エラー対応スクリプトも存在するが、これも不要である。

### 目的

実装されていない機能に関する設定サンプルやスクリプトを削除し、ユーザーの混乱を防ぐとともに、コードベースをクリーンに保つ。

---

## 2. 対象ユーザー

cc-craft-kit を使用する開発者（特に新規導入者）

---

## 3. 受け入れ基準

### 必須要件

- [ ] `.env.example` から MCP_PORT 関連のコメントとサンプルを削除
- [ ] `.env` から MCP_PORT 関連のコメントとサンプルを削除

### 機能要件

- [ ] `scripts/create-mcp-error-spec.ts` を削除
- [ ] 削除したファイルへの参照がある仕様書を更新

### 非機能要件

- [ ] 型チェック（`npm run typecheck`）がパスすること
- [ ] テスト（`npm test`）がパスすること

---

## 4. 制約条件

- プラグインシステム内の `MCPTool` 型定義は保持する（将来的な拡張可能性のため）
- `@modelcontextprotocol/sdk` 依存関係は保持する（プラグインが使用している可能性）
- Backlog/Slack プラグインの `getMCPTools()` メソッドは保持する

---

## 5. 依存関係

### 削除対象ファイル

| ファイル | 行番号 | 内容 |
|---|---|---|
| `.env.example` | 26-27 | MCP_PORT コメントとサンプル |
| `.env` | 26-27 | MCP_PORT コメントとサンプル |
| `scripts/create-mcp-error-spec.ts` | 全体 | MCP 起動エラー対応スクリプト |

### 参照元（更新が必要）

| ファイル | 参照内容 |
|---|---|
| `.cc-craft-kit/specs/4bd4f16b-a4fd-49d8-977c-9d3cb790ec21.md` | `create-mcp-error-spec.ts` への参照 |

---

## 6. 参考情報

- README.md: 「MCP サーバー不要でコンテキスト効率的なアーキテクチャを実現（MCP 比 99%削減）」
- docs/ARCHITECTURE.md: MCPTool 型の言及（保持）
