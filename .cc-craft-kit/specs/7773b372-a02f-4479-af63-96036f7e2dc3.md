# .cc-craft-kit/ の内容見直し

**仕様書 ID:** 7773b372-a02f-4479-af63-96036f7e2dc3
**フェーズ:** requirements
**作成日時:** 2025/12/05 21:00:00
**更新日時:** 2025/12/05 21:00:00

---

## 1. 背景と目的

### 背景

無駄（不要）なファイルやディレクトリが大量にある

### 目的

`.cc-craft-kit/` ディレクトリ内の不要なファイル・ディレクトリを整理し、リポジトリサイズを削減してメンテナンス性を向上させる。また、`npm run sync:dogfood` による同期対象と自動生成ファイルの区別を明確化する。

---

## 2. 対象ユーザー

- cc-craft-kit の開発者
- cc-craft-kit を使用してプロジェクトを管理するユーザー

---

## 3. 受け入れ基準

### 必須要件

- [ ] `.cc-craft-kit/backups/` ディレクトリの古いバックアップファイルを削除する
- [ ] 同期対象外で不要と判断されたファイル・ディレクトリを特定して削除する

### 機能要件

- [ ] `sync-dogfood.ts` で backups/ の自動削除機能を追加する（オプション）
- [ ] 削除後も `npm run sync:dogfood` が正常に動作することを確認する

### 非機能要件

- [ ] リポジトリサイズが削減される（不要ファイル削除による）
- [ ] 保持すべきファイル（specs/、cc-craft-kit.db、config.json）が影響を受けないこと

---

## 4. 制約条件

- `.cc-craft-kit/specs/` ディレクトリは削除不可（ユーザー作成の仕様書データ）
- `.cc-craft-kit/cc-craft-kit.db` は削除不可（ランタイムデータベース）
- `.cc-craft-kit/config.json` は削除不可（GitHub連携設定）
- `src/` から同期される以下のディレクトリは同期後のみ存在:
  - `commands/`, `core/`, `hooks/`, `integrations/`, `plugins/`, `scripts/`

---

## 5. 依存関係

- `src/scripts/sync-dogfood.ts` - 同期スクリプト（削除パターンの追加対象）
- `npm run sync:dogfood` - 同期コマンド
- CLAUDE.md - ディレクトリ構成の説明を含む

---

## 6. 参考情報

- 解析結果: 不要と判断されたファイル
  - `.cc-craft-kit/backups/` - 古いバックアップファイル（2025/12/04）
  - `.cc-craft-kit/skills/prompt-first-reviewer/` - src/skills に対応がない可能性（要確認）
- 保持すべきファイル
  - `.cc-craft-kit/commands/`, `core/`, `hooks/`, `integrations/`, `plugins/`, `scripts/` - 同期対象
  - `.cc-craft-kit/specs/` - 仕様書データ
  - `.cc-craft-kit/cc-craft-kit.db` - ランタイムDB
  - `.cc-craft-kit/config.json` - 設定ファイル
