# 移行テスト

**仕様書 ID:** d2566351-04f8-4ad5-a631-fc8cbb156efb
**フェーズ:** requirements
**作成日時:** 2025/11/18 12:13:48
**更新日時:** 2025/11/18 12:13:48

---

## 1. 背景と目的

### 背景

Takumi から cc-craft-kit への移行が正常に完了したかテスト

### 目的

プロジェクト名の変更（Takumi → cc-craft-kit）および開発フローの変更（ビルドプロセス削除、TypeScript 直接実行）が正常に完了したことを確認します。

---

## 2. 対象ユーザー

- cc-craft-kit プロジェクトの開発者
- ドッグフーディング環境を使用する開発者

---

## 3. 受け入れ基準

### 必須要件

- [x] `.cc-craft-kit/` ディレクトリが `.cc-craft-kit/` に変更されている
- [x] `cc-craft-kit.db` が `cc-craft-kit.db` に変更されている
- [x] `/cft:*` スラッシュコマンドが `/cc-craft-kit:*` に変更されている
- [x] TypeScript ファイルが直接 `.cc-craft-kit/` にコピーされる（ビルド不要）
- [x] `npx tsx` で TypeScript ファイルが直接実行できる

### 機能要件

- [x] `npm run sync:dogfood` で `src/` から `.cc-craft-kit/` に TypeScript ファイルがコピーされる
- [x] 古い JavaScript ファイル (`.js`, `.d.ts`) が自動削除される
- [x] `npm run check:sync` で `src/` と `.cc-craft-kit/` の整合性がチェックできる
- [x] すべてのスラッシュコマンドが正常に動作する
- [x] 既存の仕様書データが正常に読み込める（33件の仕様書が正常に表示）
- [x] 新規仕様書が正常に作成できる（GitHub Issue #34 も自動作成）
- [x] GitHub 統合が正常に動作する（Issue 作成、Project 追加が成功）

### 非機能要件

- [x] ドキュメント（`CLAUDE.md`, `docs/QUICK_START.md`）が更新されている
- [x] マイグレーションによるデータ損失がない（既存33件の仕様書が正常に動作）
- [ ] 開発フローの変更がチーム内に周知されている

---

## 4. 制約条件

### 開発環境

- Node.js 18.0.0 以上が必要
- `npx tsx` で TypeScript を直接実行する環境が必要
- `.cc-craft-kit/` ディレクトリは Git 管理対象外（`.gitignore` に含まれる）

### 既存データの互換性

- データベーススキーマは変更しない
- 既存の仕様書ファイルは移行前のまま `.cc-craft-kit/specs/` に配置される

---

## 5. 依存関係

### 関連仕様書

- 仕様書 #32: Takumi から cc-craft-kit への変更が不十分（名称変更）
- 仕様書 #16: 開発キットソースとドッグフーディング環境の整理と整合性チェック

### 変更されたファイル

- `src/scripts/sync-dogfood.ts` - ビルド成果物（`dist/`）から TypeScript ソース（`src/`）へ変更
- `src/scripts/check-sync.ts` - 整合性チェックの対象を変更
- `package.json` - `build:dogfood` スクリプトからビルドを削除
- `CLAUDE.md` - 開発フロー説明を更新
- `docs/QUICK_START.md` - セットアップ手順を更新

---

## 6. 参考情報

### テスト結果

- ✅ 既存の仕様書一覧が正常に表示（33件）
- ✅ 新規仕様書が正常に作成（GitHub Issue #34 も自動作成）
- ✅ GitHub 統合が正常に動作（Issue 作成、Project 追加が成功）
- ✅ TypeScript ファイルが正しく `.cc-craft-kit/` にコピーされる
- ✅ 古い JavaScript ファイルが自動削除される
- ✅ 整合性チェックが正常に動作

### 変更の背景

開発中は TypeScript ファイルを直接 `npx tsx` で実行するため、ビルドプロセスが不要になりました。`dist/` ディレクトリは npm パッケージ配布用にのみ使用します。
