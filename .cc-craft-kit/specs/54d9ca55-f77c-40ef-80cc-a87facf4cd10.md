# インストール方法が間違っている

**仕様書 ID:** 54d9ca55-f77c-40ef-80cc-a87facf4cd10
**フェーズ:** design
**作成日時:** 2025/12/02 00:00:00
**更新日時:** 2025/12/02 13:45:00

---

## 1. 背景と目的

### 背景

curl -fsSL https://cc-craft-kit.dev/install.sh | sh でインストールしようとすると「curl: (6) Could not resolve host: cc-craft-kit.dev」となりインストールできない

### 目的

ドキュメントに記載されているインストール方法を修正し、ユーザーが実際にインストールできるようにする。現在は存在しないドメイン `cc-craft-kit.dev` を参照しているため、正しいインストール方法（git clone または GitHub Releases からのダウンロード）に変更する。

---

## 2. 対象ユーザー

cc-craft-kit を新規にインストールしようとしている開発者

---

## 3. 受け入れ基準

### 必須要件

- [ ] README.md のインストール手順が実際に機能する方法に修正されている
- [ ] docs/QUICK_START.md のインストール手順が実際に機能する方法に修正されている
- [ ] scripts/install.sh 内のコメントが正しい URL に修正されている

### 機能要件

- [ ] 推奨インストール方法として git clone 手順が記載されている
- [ ] GitHub Releases からのダウンロード手順が代替方法として記載されている
- [ ] 将来の npm インストール方法について言及されている（オプション）

### 非機能要件

- [ ] インストール手順が明確でわかりやすい
- [ ] コピー&ペーストで即座に実行できるコマンドが提供されている

---

## 4. 制約条件

- cc-craft-kit.dev ドメインは現時点で存在しないため、このドメインへの参照はすべて削除する必要がある
- npm パッケージとしての公開は将来の対応とし、現時点では git clone を推奨する

---

## 5. 依存関係

- README.md
- docs/QUICK_START.md
- scripts/install.sh

---

## 6. 参考情報

- GitHub リポジトリ: https://github.com/B16B1RD/cc-craft-kit
- 問題の根本原因: cc-craft-kit.dev ドメインが DNS 解決できない（存在しない）

---

## 7. 設計詳細

### 7.1 アーキテクチャ設計

#### 全体構成

本修正はドキュメントファイルの更新のみで、コードロジックの変更は不要。

```
修正対象ファイル:
├── README.md                    # メインドキュメント
├── docs/QUICK_START.md          # クイックスタートガイド
└── scripts/install.sh           # インストールスクリプト（コメントのみ）
```

#### 設計方針

1. **段階的インストール方法の提示**:
   - 推奨方法: curl + GitHub raw URL（ワンライナーでインストール）
   - 代替方法: git clone（開発参加者向け）
   - 将来対応: npm install（現時点では未対応と明記）

2. **既存の curl インストール URL を修正**:
   - 存在しないドメイン `cc-craft-kit.dev` を GitHub raw URL に置換
   - 新しい URL: `https://raw.githubusercontent.com/B16B1RD/cc-craft-kit/main/scripts/install.sh`

3. **インストールスクリプトの整合性確保**:
   - scripts/install.sh 内のコメント・ヘルプを GitHub raw URL に更新
   - 実際の実行方法と一致させる

### 7.2 実装方針

#### 修正対象ファイル

| ファイル | 変更内容 |
|---------|---------|
| README.md | インストールセクション（行 29-56）を curl + GitHub raw URL 推奨に変更 |
| docs/QUICK_START.md | ステップ1（行 11-49）を curl + GitHub raw URL 推奨に変更 |
| scripts/install.sh | ヘルプ・コメント内の URL を GitHub raw URL に更新 |

#### 新しいインストール手順

```markdown
### インストール

#### 方法1: curl コマンド経由（推奨）

```bash
# カレントディレクトリにインストール
curl -fsSL https://raw.githubusercontent.com/B16B1RD/cc-craft-kit/main/scripts/install.sh | sh

# 指定したディレクトリにインストール
curl -fsSL https://raw.githubusercontent.com/B16B1RD/cc-craft-kit/main/scripts/install.sh | sh -s -- /path/to/project

# 新規ディレクトリを作成してインストール
curl -fsSL https://raw.githubusercontent.com/B16B1RD/cc-craft-kit/main/scripts/install.sh | sh -s -- --project my-new-project
```

#### 方法2: 開発者向けクローン

開発に参加する場合や、最新のソースコードから実行する場合:

```bash
git clone https://github.com/B16B1RD/cc-craft-kit.git
cd cc-craft-kit
npm install
npm run sync:dogfood
```
```

### 7.3 機能マッピング

| 機能 | 現在の実装 | 新しい実装 | 実装場所 |
|-----|----------|----------|---------|
| 推奨インストール | curl（cc-craft-kit.dev） | curl（GitHub raw URL） | README.md, docs/QUICK_START.md |
| 代替インストール | 開発者向けクローン | git clone（変更なし） | README.md, docs/QUICK_START.md |
| スクリプトヘルプ | cc-craft-kit.dev URL | GitHub raw URL | scripts/install.sh |

### 7.4 テスト戦略

| テスト対象 | テスト内容 | 検証方法 |
|----------|----------|---------|
| README.md | ドキュメント内の URL が有効か | 手動確認 |
| docs/QUICK_START.md | インストール手順が実行可能か | 手動確認 |
| scripts/install.sh | ヘルプ表示が正しいか | `sh scripts/install.sh --help` |

### 7.5 移行計画

#### Phase 1: ドキュメント更新

1. README.md のインストールセクションを更新
2. docs/QUICK_START.md のインストールセクションを更新
3. scripts/install.sh のコメント・ヘルプを更新

---

## 8. 実装タスクリスト

### Phase 1: ドキュメント更新

- [ ] README.md のインストールセクションを curl + GitHub raw URL 推奨に変更 (#520)
- [ ] docs/QUICK_START.md のインストールセクションを curl + GitHub raw URL 推奨に変更 (#521)
- [ ] scripts/install.sh のヘルプ・コメント内の URL を GitHub raw URL に修正 (#522)
