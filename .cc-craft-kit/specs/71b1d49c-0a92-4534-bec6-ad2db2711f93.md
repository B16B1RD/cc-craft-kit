# 本リポジトリの .cc-craft-kit/ に無駄なファイルがある

**仕様書 ID:** 71b1d49c-0a92-4534-bec6-ad2db2711f93
**フェーズ:** requirements
**作成日時:** 2025/12/04 19:18:00
**更新日時:** 2025/12/04 19:18:00

---

## 1. 背景と目的

### 背景

タイトル通りだが、この状況を鑑みるに、他にも無駄なファイルがある気がする。徹底的に調査し、修正する。

### 目的

.cc-craft-kit/ ディレクトリおよびリポジトリ全体から不要なファイルを特定・削除し、プロジェクトの整理と保守性を向上させる。また、今後不要ファイルが蓄積しないよう sync:dogfood のロジックを改善する。

---

## 2. 対象ユーザー

cc-craft-kit を使用・開発する開発者

---

## 3. 受け入れ基準

### 必須要件

- [ ] .cc-craft-kit/ 内の明確な廃棄物ファイル（空の DB ファイル、テストアーカイブ）を削除する
- [ ] src/scripts/ 内の開発用スクリプトを適切に整理する（dev/ サブディレクトリへの移動または削除）
- [ ] sync:dogfood のロジックを修正し、不要な同期・削除サイクルを解消する

### 機能要件

- [ ] .cc-craft-kit/cc-craft-kit-new.db（空ファイル）を削除する
- [ ] .cc-craft-kit/cc-craft-kit-recovered.db（空ファイル）を削除する
- [ ] .cc-craft-kit/test-archive.tar.gz（テスト残骸）を削除する
- [ ] src/scripts/ 内の開発用スクリプト 9 個を src/scripts/dev/ に移動または削除する
- [ ] sync-dogfood.ts から scripts ディレクトリの同期処理を除外または改善する
- [ ] cleanDevScripts() 関数の役割を見直す

### 非機能要件

- [ ] 削除対象ファイルを .gitignore に追加し、今後のコミットを防止する
- [ ] ARCHITECTURE.md を更新し、ディレクトリ構成の明確化を行う

---

## 4. 制約条件

- 既存の仕様書データ（.cc-craft-kit/specs/*.md）は削除対象外とする
- アクティブな DB ファイル（cc-craft-kit.db, cc-craft-kit.db-shm, cc-craft-kit.db-wal）は削除しない
- config.json は GitHub 設定キャッシュとして必要なため削除しない
- sync:dogfood の基本的な動作（src/ → .cc-craft-kit/ への同期）は維持する

---

## 5. 依存関係

- src/scripts/sync-dogfood.ts - 同期ロジックの修正対象
- CLAUDE.md - ディレクトリ構成の記載確認
- docs/ARCHITECTURE.md - 期待されるディレクトリ構造の定義

---

## 6. 参考情報

- sync:dogfood コマンドの実装: src/scripts/sync-dogfood.ts
- 削除対象パターン: add-*, check-*, cleanup-*, close-*, delete-*, fix-*, import-*, migrate-*, monitor-*, rebuild-*, repair-*, run-*, sync-github-*, test-*, update-*
- 発見された不要ファイル:
  - .cc-craft-kit/cc-craft-kit-new.db (0B)
  - .cc-craft-kit/cc-craft-kit-recovered.db (0B)
  - .cc-craft-kit/test-archive.tar.gz (1.7MB)
