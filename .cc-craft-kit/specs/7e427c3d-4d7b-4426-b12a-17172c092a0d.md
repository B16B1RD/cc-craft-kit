# v0.1.10 リリースの準備作業

**仕様書 ID:** 7e427c3d-4d7b-4426-b12a-17172c092a0d
**フェーズ:** implementation
**作成日時:** 2025/12/05 16:45:00
**更新日時:** 2025/12/05 21:32:00

---

## 1. 背景と目的

### 背景

現在の develop ブランチの内容を v0.1.10 としてリリースします。そのため、バージョン番号が関係するものを調査し、修正します。

### 目的

develop ブランチの内容を v0.1.10 として正式リリースするため、バージョン番号が記載されている全てのファイルを更新し、CHANGELOG を追記する。

---

## 2. 対象ユーザー

cc-craft-kit を使用する開発者、および新規インストールユーザー

---

## 3. 受け入れ基準

### 必須要件

- [ ] package.json の version を `0.1.9` → `0.1.10` に更新
- [ ] CHANGELOG.md に `[0.1.10]` セクションを追加
- [ ] docs/ARCHITECTURE.md のバージョン表記を `0.1.9` → `0.1.10` に更新

### 機能要件

- [ ] CHANGELOG.md の末尾にリリースリンク `[0.1.10]` を追加
- [ ] docs/ARCHITECTURE.md の最終更新日をリリース日に更新

### 非機能要件

- [ ] CI パイプライン（lint, typecheck, test, sync-check）が全て通ること
- [ ] Semantic Versioning (PATCH) に準拠していること

---

## 4. 制約条件

- GitHub Actions の release.yml ワークフローがタグプッシュ時に自動実行される
- install.sh はバージョン番号を動的に取得するため、スクリプト内の修正は不要
- Semantic Versioning (PATCH) として後方互換性を維持する必要がある

---

## 5. 依存関係

- `package.json` - npm パッケージバージョン管理
- `CHANGELOG.md` - リリースノート管理（Keep a Changelog 形式）
- `docs/ARCHITECTURE.md` - アーキテクチャドキュメント
- `.github/workflows/release.yml` - リリース自動化ワークフロー

---

## 6. 参考情報

- [Keep a Changelog](https://keepachangelog.com/ja/1.0.0/)
- [Semantic Versioning](https://semver.org/lang/ja/)
- 過去のリリース仕様書: `.cc-craft-kit/specs/9297ed08-ee09-4447-996e-bc3fe4bf72f6.md` (v0.1.9)

---

## 7. 設計詳細

### 7.1 アーキテクチャ設計

#### 全体構成

リリース準備は以下の 3 ファイルのバージョン更新のみで完了する単純な構成:

```text
package.json          ← npm パッケージバージョン管理
CHANGELOG.md          ← リリースノート管理
docs/ARCHITECTURE.md  ← ドキュメント内バージョン表記
```

#### 設計方針

- Semantic Versioning (PATCH) に準拠
- Keep a Changelog 形式を踏襲
- CI パイプライン（lint, typecheck, test）通過を必須条件とする

#### 処理フロー詳細

```text
1. package.json の version を 0.1.10 に更新
2. CHANGELOG.md に [0.1.10] セクションを追加
   - Added/Changed/Fixed を記載
   - 末尾にリリースリンクを追加
3. docs/ARCHITECTURE.md を更新
   - バージョン: 0.1.10
   - 最終更新日: 2025-12-05
4. CI 確認 (npm run typecheck && npm run lint && npm test)
5. PR 作成 → マージ → タグ付け (v0.1.10)
```

### 7.2 実装方針

#### 修正対象ファイル

| ファイル | 変更内容 |
|---------|---------|
| `package.json` | version: "0.1.9" → "0.1.10" |
| `CHANGELOG.md` | [0.1.10] セクション追加、リリースリンク追加 |
| `docs/ARCHITECTURE.md` | バージョン: 0.1.10、最終更新日: 2025-12-05 |

#### CHANGELOG.md に記載する変更内容

v0.1.9 以降のコミット履歴から抽出:

**Fixed:**
- completed フェーズ移行時にブランチ削除が失敗する問題を修正 (#783)
- completed フェーズで仕様書が更新される問題を修正 (#775)
- DB の整合性修正 - review フェーズ集計漏れを解消 (#769)
- Sub Issue が重複して作成される問題を修正 (#754)
- /cft:status が別ブランチの仕様書ファイルを読み取ろうとしてエラーになる問題を修正 (#746)
- CI が失敗する PR が作成されることがある問題を修正 (#738)
- 本リポジトリの .cc-craft-kit/ に無駄なファイルがある問題を修正 (#723)

**Changed:**
- インストール構成の見直し - シンボリックリンク廃止と適切なファイル配置 (#711)

### 7.3 機能マッピング

| 機能 | 現在の実装 | 新しい実装 | 実装場所 |
|-----|----------|----------|---------|
| バージョン管理 | 0.1.9 | 0.1.10 | package.json |
| リリースノート | [0.1.9] セクションまで | [0.1.10] セクション追加 | CHANGELOG.md |
| ドキュメント | 0.1.9 表記 | 0.1.10 表記 | docs/ARCHITECTURE.md |

### 7.4 テスト戦略

| テスト対象 | テスト内容 | 検証方法 |
|----------|----------|---------|
| TypeScript | 型エラーなし | npm run typecheck |
| ESLint | Lint エラーなし | npm run lint |
| 単体テスト | 全テスト通過 | npm test |
| sync チェック | ファイル同期確認 | npm run check:sync |

### 7.5 移行計画

#### Phase 1: バージョン更新

1. package.json の version を更新
2. docs/ARCHITECTURE.md のバージョン表記と最終更新日を更新

#### Phase 2: CHANGELOG 作成

1. [0.1.10] セクションを追加
2. Fixed/Changed 項目を記載
3. 末尾にリリースリンクを追加

#### Phase 3: CI 確認

1. npm run typecheck 実行
2. npm run lint 実行
3. npm test 実行
4. npm run check:sync 実行

---

## 8. 実装タスクリスト

### Phase 1: バージョン更新

- [ ] package.json の version を "0.1.9" → "0.1.10" に更新 (#785)
- [ ] docs/ARCHITECTURE.md のバージョン表記を "0.1.9" → "0.1.10" に更新 (#786)
- [ ] docs/ARCHITECTURE.md の最終更新日を "2025-12-05" に更新 (#787)

### Phase 2: CHANGELOG 作成

- [ ] CHANGELOG.md に [0.1.10] セクションを追加（Added/Changed/Fixed を記載） (#788)
- [ ] CHANGELOG.md の末尾にリリースリンク [0.1.10] を追加 (#789)

### Phase 3: CI 確認

- [ ] npm run typecheck を実行し、型エラーがないことを確認 (#790)
- [ ] npm run lint を実行し、Lint エラーがないことを確認 (#791)
- [ ] npm test を実行し、全テストが通過することを確認 (#792)
- [ ] npm run check:sync を実行し、ファイル同期が正常であることを確認 (#793)
