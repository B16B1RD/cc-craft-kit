# v0.1.8 リリース準備作業

**仕様書 ID:** 7b9b4e7f-b8a7-4a67-b969-c17e454e51f6
**フェーズ:** implementation
**作成日時:** 2025/12/04 21:30:00
**更新日時:** 2025/12/04 22:20:00

---

## 1. 背景と目的

### 背景

現在の develop ブランチの内容を v0.1.8 としてリリースします。バージョン番号に関わる部分を調査し、修正しリリースの準備とします。

### 目的

cc-craft-kit v0.1.8 を正式リリースするため、バージョン番号の更新、CHANGELOG の記述、品質チェックの実行、およびリリース PR の作成を行う。

---

## 2. 対象ユーザー

cc-craft-kit を使用する開発者、および本プロジェクトのメンテナー

---

## 3. 受け入れ基準

### 必須要件

- [ ] package.json のバージョンが `0.1.8` に更新されている
- [ ] CHANGELOG.md に `[0.1.8]` セクションが追加されている
- [ ] docs/ARCHITECTURE.md のバージョン表記が `0.1.8` に更新されている

### 機能要件

- [ ] v0.1.7 以降の変更内容が CHANGELOG.md に正確に記載されている
- [ ] `npm run sync:dogfood` が正常に完了している

### 非機能要件

- [ ] `npm run typecheck` がエラーなく完了している
- [ ] `npm run lint` がエラーなく完了している
- [ ] `npm test` が全テスト合格している

---

## 4. 制約条件

- Semantic Versioning (SemVer) に準拠: `MAJOR.MINOR.PATCH` 形式
- GitHub Flow + develop ブランチモデルに準拠
- リリースタグの形式: `v0.1.8`（接頭辞 `v` 必須）
- GitHub Actions CI パイプラインの全テスト成功が必須

---

## 5. 依存関係

### 更新対象ファイル

| ファイル | 変更内容 |
|---------|---------|
| package.json | version: "0.1.7" → "0.1.8" |
| CHANGELOG.md | [0.1.8] セクション追加 |
| docs/ARCHITECTURE.md | バージョン: 0.1.7 → 0.1.8 |

### 関連ワークフロー

- `.github/workflows/release.yml` - タグ push 時に GitHub Release 作成
- `.github/workflows/ci.yml` - PR/push 時に品質チェック実行

---

## 6. 参考情報

- v0.1.7 リリース仕様書: `84314ae7-7c50-4811-978a-23224a72ed04`
- v0.1.7 以降の変更: `fix: インストールスクリプトのパイプ実行時の不具合を修正 (#661)`

---

## 7. 設計詳細

### 7.1 アーキテクチャ設計

#### 全体構成

リリース準備作業は、以下のファイル更新と品質チェックで構成される:

```
┌─────────────────────────────────────────────────────────┐
│ v0.1.8 リリース準備作業                                   │
├─────────────────────────────────────────────────────────┤
│ 1. バージョン更新                                        │
│    ├── package.json (version フィールド)                 │
│    ├── CHANGELOG.md ([0.1.8] セクション追加)             │
│    └── docs/ARCHITECTURE.md (バージョン表記)             │
├─────────────────────────────────────────────────────────┤
│ 2. 品質チェック                                          │
│    ├── npm run typecheck (型チェック)                   │
│    ├── npm run lint (ESLint)                           │
│    ├── npm test (ユニットテスト)                         │
│    └── npm run sync:dogfood (ドッグフーディング同期)      │
├─────────────────────────────────────────────────────────┤
│ 3. PR 作成・マージ                                       │
│    └── develop → main                                   │
└─────────────────────────────────────────────────────────┘
```

#### 設計方針

- 過去のリリース（v0.1.7）と同じ手順・フォーマットを踏襲
- Conventional Commits に準拠したコミットメッセージ
- Semantic Versioning (SemVer) 準拠

### 7.2 実装方針

#### 修正対象ファイル

| ファイル | 変更内容 | 対象行 |
|---------|---------|-------|
| package.json | `"version": "0.1.7"` → `"0.1.8"` | 3行目 |
| CHANGELOG.md | `## [0.1.8]` セクション追加 | 7行目以降 |
| docs/ARCHITECTURE.md | `**バージョン:** 0.1.7` → `0.1.8` | 362行目 |

#### CHANGELOG.md 記載内容

v0.1.7 以降の変更は以下の1件:
- `fix: インストールスクリプトのパイプ実行時の不具合を修正 (#661)`

```markdown
## [0.1.8] - 2025-12-04

### Added

- なし

### Changed

- なし

### Fixed

- インストールスクリプトのパイプ実行時の不具合を修正 (#661)
```

### 7.3 機能マッピング

| 機能 | 現在の実装 | 新しい実装 | 実装場所 |
|-----|----------|----------|---------|
| バージョン番号 | 0.1.7 | 0.1.8 | package.json:3 |
| 変更履歴 | [0.1.7] が最新 | [0.1.8] 追加 | CHANGELOG.md |
| ドキュメントバージョン | 0.1.7 | 0.1.8 | docs/ARCHITECTURE.md:362 |

### 7.4 テスト戦略

| テスト対象 | テスト内容 | 検証方法 |
|----------|----------|---------|
| 型チェック | TypeScript コンパイルエラーなし | `npm run typecheck` |
| コード品質 | ESLint 違反なし | `npm run lint` |
| ユニットテスト | 全テストケース合格 | `npm test` |
| ファイル同期 | src/ と .cc-craft-kit/ の同期 | `npm run sync:dogfood` |

### 7.5 移行計画

#### Phase 1: バージョン更新
1. package.json のバージョン更新
2. CHANGELOG.md に [0.1.8] セクション追加
3. docs/ARCHITECTURE.md のバージョン表記更新

#### Phase 2: 品質チェック・同期
1. npm run typecheck 実行
2. npm run lint 実行
3. npm test 実行
4. npm run sync:dogfood 実行

---

## 8. 実装タスクリスト

### Phase 1: バージョン更新

- [x] package.json のバージョンを 0.1.8 に更新 (#663)
- [x] CHANGELOG.md に [0.1.8] セクションを追加 (#664)
- [ ] docs/ARCHITECTURE.md のバージョン表記を 0.1.8 に更新 (#665)

### Phase 2: 品質チェック・同期

- [ ] npm run typecheck を実行しエラーなしを確認 (#666)
- [ ] npm run lint を実行しエラーなしを確認 (#667)
- [ ] npm test を実行し全テスト合格を確認 (#668)
- [ ] npm run sync:dogfood を実行し正常完了を確認 (#669)
