# 仕様書 createdAt フォーマットの修正

**仕様書 ID:** 4446a80b-dc5a-4579-b76e-fd1a306ccc17
**フェーズ:** requirements
**作成日時:** 2025/11/25 11:10:00
**更新日時:** 2025/11/25 11:10:00

---

## 1. 背景と目的

### 背景

仕様書ファイルの `createdAt` フィールドが期待されるフォーマット（`YYYY/MM/DD HH:MM:SS`）と異なるフォーマット（`YYYY-MM-DD HH:MM`）で保存されている仕様書が4件存在する。これにより、DB 整合性チェックで「invalid spec file」として検出されている。

該当する仕様書:
- 5a3b69c7... - /cft:spec-create の実装を見直したい（2025-11-25 10:50）
- 7d808ccf... - /cft:spec-phase コマンドの見直し（2025-11-25 12:00）
- 0e4ea00e... - /cft:status コマンドの見直し（2025-11-25 00:00）
- 1c541601... - /cft:spec-delete コマンドの見直し（2025-11-25 14:30）

### 目的

無効なフォーマットの `createdAt` を正しいフォーマット（`YYYY/MM/DD HH:MM:SS`）に修正し、DB 整合性チェックの警告を解消する。

---

## 2. 対象ユーザー

cc-craft-kit の開発者・メンテナー

---

## 3. 受け入れ基準

### 必須要件

- [ ] 4件の仕様書ファイルの `createdAt` フォーマットを `YYYY/MM/DD HH:MM:SS` に修正
- [ ] `updatedAt` フォーマットも同様に修正（必要な場合）
- [ ] 修正後、`npx tsx .cc-craft-kit/scripts/repair-database.ts --dry-run` で警告が0件になること

### 機能要件

- [ ] 既存のデータ（日時の値）を保持しつつ、フォーマットのみ変更
- [ ] 秒が欠落している場合は `:00` を追加

### 非機能要件

- [ ] 手動での修正作業時間は30分以内

---

## 4. 制約条件

- 仕様書の内容（背景、目的、受け入れ基準など）は変更しない
- 日時の値自体は変更しない（フォーマット変換のみ）

---

## 5. 依存関係

- `src/core/filesystem/spec-parser.ts` - 仕様書パーサー（フォーマット検証ロジック）
- `.cc-craft-kit/scripts/repair-database.ts` - DB 整合性チェックスクリプト

---

## 6. 参考情報

- 期待されるフォーマット: `YYYY/MM/DD HH:MM:SS`
- 現在のフォーマット: `YYYY-MM-DD HH:MM`
- 変換例: `2025-11-25 10:50` → `2025/11/25 10:50:00`
